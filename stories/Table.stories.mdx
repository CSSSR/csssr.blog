import { Meta, Story } from '@storybook/addon-docs/blocks';
import { compilerMdx } from '../components/Post/Body/utils/compilerMdx';
import { getStringAttributes } from './utils/getStringAttributes';

<Meta
  title="Table"
  argTypes={{
    color: {
      type: 'select',
      options: ['green', 'purple'],
      control: {
        type: 'radio',
      },
    },
  }}
/>

export const Table = ({ content, ...args }) => {
  return (
    <>
      {compilerMdx({
        content: `<Table ${getStringAttributes(args)}>${content}</Table>`,
      })}
    </>
  );
};

# [`<Table />`](http://s.csssr.ru/U31J879TR/20200626122639.jpg)

Компонент таблицы. Имеет три вида: с фиолетовыми, зелёными и бесцветными заголовками. `<Table />` является оберткой на html-тегом `<table />`, посему принимает все те же атрибуты и потомков, что и html-тег. Для строк заголовков с атрибутом `colspan="4"` нужно указывать атрибут `data-text` и дублировать в него текст из строки. Это нужно для того, что бы правильно работал скрол этого поля на мобилке. Компонент принимает следующие пропсы

## `color`

Тип данных: `green | purple`

Дефолтное значение: `undefined`

Цвет заголовков. Если нужны бесцветные заголовки, то этот пропс не нужно указывать.

## `withBorders`

Тип данных: `boolean`

Дефолтное значение: `false`

Если `withBorders` имеет значение `true`, то в таблице появятся дополнительные бордеры.

## Пример кода

```jsx
<Table color="purple" withBorders>
  <thead>
    <tr>
      <th />
      <th>Команда в вашем офисе</th>
      <th>Команда в своем офисе</th>
      <th>Распределенная команда</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th colspan="4">Цель</th>
    </tr>
    <tr>
      <th>«Скорая помощь» проекту</th>
      <td>++</td>
      <td>+</td>
      <td>-</td>
    </tr>
    <tr>
      <th>Поддержка разработки или новый функционал</th>
      <td>+</td>
      <td>+</td>
      <td>+</td>
    </tr>
    <tr>
      <th>Старт разработки</th>
      <td>+</td>
      <td>+</td>
      <td>+</td>
    </tr>
  </tbody>
</Table>
```

## Результат

<Story
  name="Default"
  args={{
    color: 'green',
    withBorders: true,
    content: `<thead>
    <tr>
      <th />
      <th>Команда в вашем офисе</th>
      <th>Команда в своем офисе</th>
      <th>Распределенная команда</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th colspan="4">Цель</th>
    </tr>
    <tr>
      <th>«Скорая помощь» проекту</th>
      <td>++</td>
      <td>+</td>
      <td>-</td>
    </tr>
    <tr>
      <th>Поддержка разработки или новый функционал</th>
      <td>+</td>
      <td>+</td>
      <td>+</td>
    </tr>
    <tr>
      <th>Старт разработки</th>
      <td>+</td>
      <td>+</td>
      <td>+</td>
    </tr>
  </tbody>`,
  }}
>
  {Table.bind({})}
</Story>
