import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import { compilerMdx } from '../components/Post/Body/utils/compilerMdx';
import { dataByLanguagePostAndImageDontResize } from '../lib/allPostsImages';
import { getStringAttributes } from './utils/getStringAttributes';

<Meta
  title="Img"
  argTypes={{
    align: {
      type: 'select',
      options: ['center', 'right', 'left'],
    },
    imageName: {
      type: 'radio',
      options: ['mySampleImageSmall'],
    },
  }}
/>

export const Img = (args) => {
  return (
    <>
      {compilerMdx({
        content: `<Img ${getStringAttributes(args)}/>`,
        images: dataByLanguagePostAndImageDontResize['en']['example'],
      })}
    </>
  );
};

# [`<Img />`](http://s.csssr.ru/U31J879TR/20200527121033.jpg)

Компонент, который нужен для того что бы вставлять изображения в статью.
В отличии от стандартного способа вставлять изображения в маркдаун,
этот компонент находит все изображения с определённым именем в папке со статикой для определённой статьи,
оптимизирует их и подставляет несколько его версий под определённые разрешения экранов.
Папку вы создаёте сами в `public/posts/`, название папки должно быть таким же как и название файла статьи.
Компонент принимает следующие пропсы

## `imageName`

Тип данных: `string`

Дефолтное значение: `undefined`

Название изображения в папке, где лежит статика для статьи.

## `alt`

Тип данных: `string`

Дефолтное значение: `undefined`

Должен содержать в себе текстовое описание изображения. Оно не обязательно, но невероятно полезно для доступности — программы чтения с экрана читают это описание своим пользователям. Лучше везде его указывать. Пишите такой текст, что бы слепой услышав его понял что изображено на изображении.

## `withBigMargin`

Тип данных: `boolean`

Дефолтное значение: `false`

Указывает должны ли у изображения быть увеличенные отступы. Это нужно для изображений, которые отбивают текст.

## `align`

Тип данных: `center` | `right` | `left`

Дефолтное значение: `center`

Отвечает за положение изображения на странице.

## Результат

<Canvas>
  <Story
    height="550px"
    name="Default"
    args={{
      imageName: 'mySampleImageSmall',
      alt: 'Digital flowers in a physical real-world view',
      withBigMargin: true,
      align: 'center',
    }}
  >
    {Img.bind({})}
  </Story>
</Canvas>
