---
title: 'В этом выпуске: Chrome 91, TypeScript 4.3, Server-Sent Events API, Logux и logux/state, планировщик postTask, Parcel 2 beta 3, а также прекращение поддержки Internet Explorer.'
soundcloudLink: 'https://soundcloud.com/csssr/chrome-91-typescript-43-server-sent-events-api-logux-i-loguxstate-posttask-parcel-2-beta-3'
date: '2021-05-28T00:00:00.000Z'
episodeNumber: 172
tag: 'news'
author: 'Ислам Виндижев'
---

<ParagraphWithImage imageName="manWithLaptop" imageSide="right">
  ### Интересные публикации

Инженеры Airbnb выкатили статью о своем новом [планировщике тасков postTask](https://medium.com/airbnb-engineering/building-a-faster-web-experience-with-the-posttask-scheduler-276b83454e91). Инструмент позволяет планировать операции в event loop браузера. Идея простая: идентифицировать длинный таск и разбивать его на таски меньше, при этом гибко приоретизируя. Пока postTask недоступен для широкого круга пользователей, потому что использует некоторые экспериментальные фичи, а полифилл пока не open-source. Но работа достаточно интересная, чтобы как минимум взглянуть.
</ParagraphWithImage>

Брайан Луис Рамирес (Brian Louis Ramirez) рассказал о [Local Overrides](https://blr.design/blog/local-overrides/) — это фича Chrome DevTools, которая может временно подменить любой ресурс сайта. Например, в инструментах разработчика можно поправить какой-нибудь файл, добавить в Local Overrides, и при перезагрузке вместо оригинального файла будет использоваться его измененная версия. Фича крута для исследования влияния потенциальных оптимизаций, быстрых фиксов и экспериментов. Кстати, автор статьи поделился своим скриптом для сбора метрик.

Андрей Мелихов на канале Девшахта рассказал про [Server-Sent Events API](https://www.youtube.com/watch?v=CJrmK3IXC8o). Для чтения данных с сервера в реальном времени не обязательно использовать веб-сокеты. Для этой цели хорошо подходит Server-Sent Events API — технология, которая работает поверх HTTP, и позволяет создать однонаправленный канал связи. На клиенте используется класс EventSource, которому передается url сервера, а сервер передает данные с метаинформацией обычным текстом. Поддержка SSE есть во всех современных браузерах, а сама технология может пригодиться для решения узкоспециализированных задач.

Ещё одно видео об инструментах: Андрей Ситник и организатор IT-сообществ Нью-Йорка Кирилл Черкашин записали трансляцию [про Logux](https://www.youtube.com/watch?v=Igihutq9pJ4) — инструмент для синхронизации веб-клиентов и сервера. Рассматривали CRDT и Logux, а также новый стейт-менеджер Андрея logux/state. Поговорили не только про инструменты, также обсудили удаленку, open-source, стейт-менеджеры в целом и ответили на вопросы.

[Анализ CSS-in-JS библиотек](https://css-tricks.com/a-thorough-analysis-of-css-in-js/) опубликовал на css-tricks Андрей Пфайфер (Andrei Pfeiffer). Рассматривается 10 библиотек, среди которых Styled JSX, styled-components, JSS, Compiled и другие. Сначала автор анализирует общие для всех десяти библиотек фичи, а затем переходит к различиям. Здесь он уделяет внимание более сложным фичам: фреймворко-специфичности, методу применения стилей, синтаксису и расположению стилей, а также генерации итогового CSS. Как итог — короткое заключение с вопросами, на которые нужно ответить при переходе на CSS-in-JS решение.

Барри Поллард (Barry Pollard) рассказал [про новые CSS-дескрипторы директивы @font-face](https://www.smashingmagazine.com/2021/05/reduce-font-loading-impact-css-descriptors/), которые помогают бороться с layout shift. Сдвиг как раз часто возникает из-за font-display:swap. Для решения этой проблемы придумали использовать Font Loading API и сопоставлять метрики резервного шрифта с метриками загружаемого шрифта. Метод работает, но он далеко не самый удобный. В рамках новой спецификации CSS Fonts Module добавили новые дескрипторы, которые должны помочь избежать непредсказуемых сдвигов контента. Это size-adjust, descent-override, line-gap-override, advance-override. Большая часть из них уже поддерживается браузерами.

Тобиас Гюнтер (Tobias Günther) вернулся на SmashingMagazine со второй частью статьи [об устранении ошибок в git](https://www.smashingmagazine.com/2021/05/undoing-mistakes-git-part2/). В этой части он рассказывает, как восстановить удаленную ветку, как перенести в другую ветку коммит, отредактировать сообщение в старом коммите и как внести изменения в коммит более элегантным способом, чем созданием кучи маленьких коммитов с фиксами.

Завершает рубрику наглядное пособие по работе DOM: [domevents.dev](https://domevents.dev/). На интерактивной схеме можно посмотреть на DOM-события в работе и получить справочную информацию.

<ParagraphWithImage imageName="laptopNews" imageSide="right">
  ### Новости релизов

Вышел [Chrome 91](https://developer.chrome.com/blog/new-in-chrome-91/). Пит Лепейдж (Pete LePage) и Джеселин Йин (Jecelyn Yeen)  сделали [обзор новинок браузера](https://www.youtube.com/watch?v=vy6FXa0n1r0) и DevTools. В десктопной версии Chrome было добавлено API для доступа к файлам из буфера обмена. В File System Access API добавлены новые опции. Появилась полноценная поддержка Web Assembly SIMD. У фавиконок теперь есть атрибут media, он помогает менять иконку сайта в зависимости от текущей темы ОС. В [DevTools](https://developer.chrome.com/blog/new-in-devtools-91/) появился инструмент для визуальной отладки scroll-snap. Для анализа ArrayBuffer и памяти WebAssembly был добавлен инспектор памяти. Появилась опция для тестирования Content-Encoding.
</ParagraphWithImage>

[TypeScript 4.3](https://devblogs.microsoft.com/typescript/announcing-typescript-4-3/) прибыл. С выхода релиз-кандидата в принципе ничего не изменилось: появилась поддержка различных типов для геттеров и сеттеров, ключевое слово override, улучшение типизации шаблонных строк и промисов, поддержка приватных полей класса и улучшение типизации статических полей класса.

Бандлер Parcel 2 движется к выпуску мажорной версии. Вышла [третья бета](https://v2.parceljs.org/blog/beta3/). Вообще, в новой версии Parcel полностью переписали компилятор JS на Rust, что сделало его, по словам авторов, в 10 раз быстрее, также были улучшены tree shaking JS и CSS-модулей и добавлена ленивая загрузка dev-сборки. Посмотрим, как покажет себя Parcel после полноценного релиза.

Другой бандлер — [Vite](https://github.com/vitejs/vite/blob/main/packages/vite/CHANGELOG.md) — отметился небольшим релизом. Фича всего одна — теперь Vite умеет сёрвить index.html в режиме миддлвары. Кроме того, подъехала пачка багфиксов.

Также отмечу релизы [nginx 1.20.1 и 1.21.0](http://nginx.org/#2021-05-25) с устранением уязвимости.

<ParagraphWithImage imageName="laptopDialog" imageSide="right">
  ### Другие новости

Похоже, команда Flow окончательно признала поражение на полях open-source боя. Разработчики рассказали, что теперь еще больше сосредоточатся [на внутренних нуждах Facebook](https://medium.com/flow-type/clarity-on-flows-direction-and-open-source-engagement-e721a4eb4d8b). Как следствие, скорее всего, на внешние коммиты и сообщество будут обращать всё меньше внимания, а продукт начнет всё меньше подходить для решения нужд разработчиков вне Facebook. Посмотрим, как дальше будет развиваться проект.
</ParagraphWithImage>

Утверждена дата [прекращения поддержки](https://www.theverge.com/2021/5/19/22443997/microsoft-internet-explorer-end-of-support-date) браузера Internet Explorer. Это произойдет 15 июня 2022 года. Я очень надеюсь, что вы и так уже давно не поддерживаете IE на своих проектах, а если поддерживаете — это знак, что пора заканчивать.

  ### Пишите нам и читайте
  [Telegram—канал CSSSR](https://t.me/csssr)

  [Twitter CSSSR](https://twitter.com/csssr_dev)

  [Twitter новостей](https://twitter.com/csssr_news)

  [Telegram ведущего](https://t.me/Vindizh)

  [Twitter ведущего](https://twitter.com/Vindizh)
