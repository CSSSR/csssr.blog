---
title: 'В этом выпуске: управление z-index на больших проектах, лучшие библиотеки для работы с датой и временем, долой Express, инстансы PM2, Lerna 4, husky 5, Mocha 8.3.0 и доклады с HolyJS Moscow 2020.'
soundcloudLink: 'https://soundcloud.com/csssr/typescript-42-rc-doloy-express-data-i-vremya-na-js-lerna-400-mocha-830-holyjs-moscow-2020'
date: '2021-02-16T00:00:00.000Z'
episodeNumber: 150
tag: 'news'
author: 'Ислам Виндижев'
---

<Note>
  [RSS подкаста](https://radio.csssr.com/rss/news512.rss), [Apple Podcasts](https://podcasts.apple.com/us/podcast/id1370045815), [Google Podcasts](https://podcasts.google.com/?feed=aHR0cHM6Ly9yYWRpby5jc3Nzci5jb20vcnNzL25ld3M1MTIucnNz&ep=14), [SoundCloud](https://soundcloud.com/csssr/sets/512-news), [Я.Музыка](https://music.yandex.ru/album/7040324/track/54795992)
</Note>

<ParagraphWithImage imageName="manWithLaptop" imageSide="right">
  ### Интересные публикации

Стивен Фрисон (Steven Frieson) на SmashingMagazine рассказал о том, [как управлять z-index на больших проектах](https://www.smashingmagazine.com/2021/02/css-z-index-large-projects/). Суть достаточно проста: придать индексам семантику, назвав CSS-переменные понятными именами, и последовательно выстроить иерархию. Стивен отмечает, что такой подход не решает все проблемы, например, не поможет быстрее найти баг, связанный с индексами. Также он приводит много примеров и рассказывает, как его команда постепенно совершенствовала систему работы с индексами.
</ParagraphWithImage>

Мелисса Макьюэн (Melissa McEwen) в блоге Skypack опубликовала статью [о лучших библиотеках для работы со временем и датами на JavaScript](https://www.skypack.dev/blog/2021/02/the-best-javascript-date-libraries/). Как вы можете помнить, moment.js канула в Лету, поэтому всем пришлось искать альтернативу. Команда Skypack в итоге выбрала библиотеку date-fns как лучшую замену общего назначения, Luxon — как удобную для работы с часовыми поясами, а Day.js — как легковесную и минималистичную альтернативу.

Разработчик Ромэн Ланц (Romain Lanz) в своём блоге на dev.to написал статью о том, почему стоит, на минуточку, [перестать использовать фреймворк Express](https://dev.to/romainlanz/why-you-should-drop-expressjs-in-2021-711). Он отмечает, что пятая версия находится в альфе уже 6 лет и, например, не поддерживает async/await. В целом автор считает Express не вполне фреймворком, а роутером, вокруг которого всё остальное приходится строить самостоятельно. Он предлагает переходить на Fastify или AdonisJS. Возможно, даже кого-то убедит. Кстати, в AdonisJS он член core team, и это немножечко PR, но это не значит, что на другие фреймворки не стоит смотреть.

В блоге Vadosware была опубликована статья [об определении оптимального количества инстансов PM2](https://vadosware.io/post/right-sizing-pm2-clusters/) в окружениях с разной аппаратной конфигурацией. Короткий ответ звучит почти как ответ на главный вопрос Вселенной и всего такого — 32. Вопрос поднялся из-за кейса с Heroku, где в документации предлагалось 28 инстансов.

[Плейлист с докладами HolyJS Moscow 2020](https://www.youtube.com/playlist?list=PL8sJahqnzh8KkFDsx3tAM8t1kOMn89CwU). В общей сложности это 27 докладов, воркшопов и других материалов. Были и зарубежные гости, и интервью с Дэном Абрамовым, микрофронтенды, новый язык для SPA и другие доклады. В общем, можно найти материал на любой вкус.

[О лучших практиках создания каруселей на web.dev](https://web.dev/carousel-best-practices/) написала статью Кэти Хемпениус (Katie Hempenius). Она рекомендует использовать обычную HTML-разметку и Scroll Snap API, чтобы не просаживать производительность и не ухудшать метрику Largest Contenful Paint. Есть и совет касательно UX: Кэти рекомендует останавливать слайды карусели при наведении курсора или совсем отказаться от автоматического переключения, чтобы слайдер не ассоциировался с рекламой.

Следующий материал — [опенсорсный репозиторий Awesome Resources](https://github.com/shahednasser/awesome-resources) от разработчицы Шахид Насер (Shahed Nasser). Там очень много ссылок на полезные материалы — в основном веб, но есть и алгоритмы, и машинное обучение, и другие разделы.

В заключение рубрики приложу ссылку, которая поможет стать [гуру гуглинга](https://www.spyfu.com/blog/google-search-operators/). Там и про сложные запросы, и про использование логических операторов в запросах, и многое другое. Надеюсь, поможет в работе.

<ParagraphWithImage imageName="laptopNews" imageSide="right">
  ### Новости релизов

Вышел релиз-кандидат [TypeScript 4.2](https://devblogs.microsoft.com/typescript/announcing-typescript-4-2-rc/). Напомню, что нового: шаблонные выражения теперь имеют шаблонные литеральные типы, более строгая проверка для in и новые флаги компилятора. Модификатор abstract теперь можно применять для объявлений конструкторов, также представлены breaking changes. Таким образом, полноценный релиз не за горами.
</ParagraphWithImage>

Появилась [вторая бета Bootstrap 5](https://blog.getbootstrap.com/2021/02/10/bootstrap-5-beta-2/). Во ней продолжили работу над новыми компонентами и расширением документации. Продолжается развитие utilities API. Идёт работа по оптимизации JS: размер JS уменьшается и оптимизируется производительность. Следующая бета должна стать финальной, а возможно, даже сразу будет стабильным релизом.

Вышла [пятая версия husky](https://dev.to/typicode/what-s-new-in-husky-5-32g5) — библиотеки для создания git-хуков. Новая версия быстрее и меньше, также существует возможность не устанавливать хуки автоматически, как в husky 4.

Вышла версия 8.3.0 фреймворка для тестирования [Mocha](https://github.com/mochajs/mocha/releases/tag/v8.3.0). Были добавлены поддержка типа BigInt и код ошибки для тайм-аута выполнения тестов. Были обновлены зависимости и документация, также исправлена пара багов.

У этого выпуска новостей номер 150, а у последней версии [Rust 1.50](https://blog.rust-lang.org/2021/02/11/Rust-1.50.0.html). Продолжается работа над константными дженериками, в ранг стабильных был переведён ряд методов API, а в пакетном менеджере cargo для команды update была добавлена опция --workspaces, которая позволяет ограничить обновление определенным рабочим пространством.

Вышла четвёртая версия инструмента для организации монорепозиториев [Lerna](https://github.com/lerna/lerna/releases/tag/v4.0.0). Теперь Lerna не поддерживает шестую и восьмую версии Node.js. Обновления зависимостей больше не должны вызывать лишние предупреждения. Также было добавлено много аннотаций для JSDocs. Помимо этого разработчики отмечают, что переход на новую версию должен пройти легко, потому что breaking changes не было.

Также отмечу релиз ядра [Linux 5.11](https://lkml.org/lkml/2021/2/14/244).

<ParagraphWithImage imageName="laptopDialog" imageSide="right">
  ### Другие новости

Исследователь безопасности Алекс Бирсан (Alex Birsan) опубликовал статью [о взломе внутренних сетей более чем 35 компаний](https://medium.com/@alex.birsan/dependency-confusion-4a5d60fec610). Атака была произведена через пакеты, которые используют внутри компаний. Из публичных источников Алекс собрал имена приватных пакетов из внутренних сетей организаций. После этого он опубликовал на GitHub одноименные публичные клоны этих пакетов. Из-за ошибки в конфигурациях начали скачиваться и устанавливать пакеты из публичных репозиториев. Так исследователь получил доступ к внутренним сетям Apple, Microsoft, PayPal, Uber, Yelp и ряда других компаний. От разных компаний он получил около 130 тысяч долларов как вознаграждения по программам Bug Bounty, а ошибки были устранены.
</ParagraphWithImage>

[Почтовый махинатор](https://yandex.ru/company/press_releases/2021/2021-02-12) был пойман за руку в Яндексе. Один из трёх главных администраторов службы технической поддержки сервиса Яндекс.Почта, который имел полный доступ к инфраструктуре, давал доступ к почтовым ящикам посторонним людям. Около 5 тысяч ящиков были скомпрометированы. Теперь проводится внутреннее расследование, и процессы перестраивают для усиления безопасности данных пользователей.

<Note>
  ### Пишите нам и читайте
  [Telegram—канал CSSSR](https://t.me/csssr)

  [Twitter CSSSR](https://twitter.com/csssr_dev)

  [Twitter новостей](https://twitter.com/csssr_news)

  [Telegram ведущего](https://t.me/Vindizh)

  [Twitter ведущего](https://twitter.com/Vindizh)
</Note>
