---
title: 'В этом выпуске: эра ES-модулей, применение ES-модулей, разбор расчёта высоты и ширины элементов, обновление LTS-версий Node.js, WebdriverIO 7 и отделение Rust от Mozilla.'
soundcloudLink: 'https://soundcloud.com/csssr/era-es-moduley-relizy-nodejs-lts-css-transition-width-height-webdriverio-7-rust-foundation'
date: '2021-02-12T00:00:00.000Z'
episodeNumber: 149
tag: 'news'
author: 'Ислам Виндижев'
---

<Note>
  [RSS подкаста](https://radio.csssr.com/rss/news512.rss), [Apple Podcasts](https://podcasts.apple.com/us/podcast/id1370045815), [Google Podcasts](https://podcasts.google.com/?feed=aHR0cHM6Ly9yYWRpby5jc3Nzci5jb20vcnNzL25ld3M1MTIucnNz&ep=14), [SoundCloud](https://soundcloud.com/csssr/sets/512-news), [Я.Музыка](https://music.yandex.ru/album/7040324/track/54795992)
</Note>

<ParagraphWithImage imageName="manWithLaptop" imageSide="right">
  ### Интересные публикации

  В апреле этого года прекращается поддержка 10-й LTS-версии Node.js. Чем примечательно это событие: 12-я версия и выше полностью поддерживают ES-модули. Сперва краткий экскурс в историю. Сначала были AMD и CommonJS. Если совсем упрощать, AMD подходил для фронтенда, а CommonJS — для бэкенда. Довольно быстро появилось UMD или Universal Module Definition, эта техника должна была стать мостом между AMD и CommonJS. Теперь мы имеем ES-модули — это новая попытка полностью стандартизировать модульность в JS. Оговорюсь, что у каждого из подходов есть свои преимущества и недостатки, обсудить которые в формате выпуска новостей не получится. Если вам хочется детальнее разобраться в разных системах модульности и понять, как пришли к ES-модулям, я приложу ссылку на старенькую, но отражающую общую картину [статью со сравнением](https://irian.to/blogs/what-are-cjs-amd-umd-and-esm-in-javascript/) от Игора Ирианто (Igor Irianto). Итак, ESM уже поддерживаются современными браузерами и Node.js с 12-й версии.
  Вернёмся к прекращению поддержки Node.js 10. На фоне этого Синдре Сорхус (Sindre Sorhus) — разработчик и мейнтейнер более чем тысячи пакетов — написал в своём блоге статью-призыв [мигрировать библиотеки на ES-модули](https://blog.sindresorhus.com/get-ready-for-esm-aa53530b3f77). Он сам планирует за 2021 год мигрировать свои пакеты на ESM полностью и без поддержки CommonJS. Он мотивирует это тем, что хочет ускорить полный переход на ESM всей JS-экосистемы и призывает к этому других. Призыв хороший, но немного радикальный, потому что Node.js пока не будет прекращать поддержку CommonJS, и в целом какое-то время ещё будут существовать проекты на 10-й версии. Это не беда, можно перевести библиотеку на ESM с CommonJS-фоллбэком, об этом в статье Синдре тоже есть. В целом, переход на ESM — явление, безусловно, позитивное, но такие переходы занимают несколько лет, посмотрим как получится в этот раз.
</ParagraphWithImage>

Продолжаем тему ES-модулей. Гиль Тайар (Gil Tayar) в своём блоге опубликовал серию статей об использовании ES-модулей в Node.js. [В первой статье](https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-1/) он знакомит читателей с основами и рассказывает о ESM и небольших подводных камнях: например, в Jest поддержка ESM пока экспериментальная. Также автор показывает простейший шаблон ES-модуля с подробным разбором элементов. [Вторая часть](https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-2/) посвящена фиче Node.js exports и созданию dual-mode модулей, как раз с тем самым CommonJS-фоллбэком, про который я говорил ранее. [Третья часть](https://gils-blog.tayar.org/posts/using-jsm-esm-in-nodejs-a-practical-guide-part-3/) посвящена TypeScript и тулингу.

Джош Комо (Josh Comeau) в своём блоге написал статью [о CSS transition](https://www.joshwcomeau.com/animation/css-transitions/). Вы все наверняка о нём знаете: это свойство, которое интерполирует переход из одного состояния в другое и таким образом делает его плавным. Статья подробная, помимо основ охватывает и более глубокие вопросы, например, задание кастомной функции для анимации с течением времени и производительность таких анимаций. Материал подойдёт для разработчиков разного уровня, для каждого найдётся что-то интересное.

Продолжим тему CSS. Следующий материал — статья Ури Шакеда (Uri Shaked) и  Михаль Пораг (Michal Porag) на css-tricks о том, [как вычисляются высота и ширина элементов](https://css-tricks.com/exploring-the-complexities-of-width-and-height-in-css/). Для создания полной картины авторы начинают с добавления простого паддинга, потом рассматриваются родители и потомки, относительные единицы и разные значения display. Дальше рассматриваются значения в процентах и min(), max() и clamp(). Получилось подробно и наглядно, с примерами кода и иллюстрациями.

В блоге Кристиана Хaйльмана (Christian Heilmann) появилась новая заметка: [как передавать данные между JS и CSS при помощи CSS-переменных](https://christianheilmann.com/2021/02/08/sharing-data-between-css-and-javascript-using-custom-properties/). Суперпросто: получить значение CSS-переменной и установить другое на JS. Для чего это может понадобиться? Как пример Кристиан приводит передачу координат курсора, к которым CSS сам по себе доступа не имеет. Прикольный трюк, которому можно найти немало применений.

В заключение рубрики материал специально для тех, кто давно хотел разобраться с базами данных, но сдался из-за сложности материала. Чет Коркос (Chet Corcos) постарался объяснить, что такое [база данных](https://ccorcos.github.io/filing-cabinets/) и как она работает на примере бумажной картотеки. Описываются основные понятия, read/write трейдоффы, запросы и другие концепции. Кроме того, каждая аналогия переводится и на технический язык для лучшего понимания.

<ParagraphWithImage imageName="laptopNews" imageSide="right">
  ### Новости релизов

LTS-версии Node.js получили обновления. Во всех апнули npm до 6.14.11. Кроме того, в [10.23.3](https://nodejs.org/en/blog/release/v10.23.3/) был исправлен краш в модуле crypto и добавлен новый тест его пайплайна, в [12.20.2](https://nodejs.org/en/blog/release/v12.20.2/) исправили утечку памяти, связанную с методом exit и AsyncLocalStorage, а в [14.15.5](https://nodejs.org/en/blog/release/v14.15.5/) в модуле zlib перестали использовать один из устаревших методов.
</ParagraphWithImage>

Небезызвестный imgproxy обновился до версии [2.16.0](https://github.com/imgproxy/imgproxy/blob/master/CHANGELOG.md). Добавили поддержку AVIF и Azure Blob Storage, а также несколько баг-фиксов и доработок.

Не успела подъехать одна заплатка, как уже нашивают другую. Речь о Mozilla Firefox [85.0.2](https://www.mozilla.org/en-US/firefox/85.0.2/releasenotes/). Устранили зависание Firefox на MacOS при попытке открыть новое окно из док-панели.

Раз уж мы заговорили о браузерах, доступно [Safari Technology Preview 120](https://webkit.org/blog/11548/release-notes-for-safari-technology-preview-120/). Ничего примечательного, но много фиксов багов и доработок.

WebdriverIO — инструмент для автоматизации тестирования — обновился до [7-й версии](https://webdriver.io/blog/2021/02/09/webdriverio-v7-released/). Теперь Node.js 10 не поддерживается, проект был переписан на TypeScript, и появилась возможность работать с Lighthouse при использовании DevTools-протокола.

Вышел Laravel [8.26.0](https://github.com/laravel/framework/releases/tag/v8.26.0). Был добавлен новый метод missing(). Он позволяет удобно кастомизировать поведение приложения при попытке доступа к отсутствующей записи. Также напомню, что с предыдущей версии 8.25.0 фреймворк поддерживает параллельный прогон тестов.

<ParagraphWithImage imageName="laptopDialog" imageSide="right">
  ### Другие новости

Проекты постепенно продолжают откалываться от Mozilla, на этот раз Rust. Был основан [Rust Foundation](https://blog.mozilla.org/blog/2021/02/08/mozilla-welcomes-the-rust-foundation/), который будет управлять развитием экосистемы и самого языка. Mozilla совсем в стороне не останется и будет его платиновым спонсором. Помимо Mozilla учредителями и спонсорами фонда стали Huawei, Microsoft, AWS и Google. Кроме представителей компании фондом будут управлять 5 лидеров проекта из разработки и других направлений. Звучит как позитивное изменение.
</ParagraphWithImage>

<Note>
  ### Пишите нам и читайте
  [Telegram—канал CSSSR](https://t.me/csssr)

  [Twitter CSSSR](https://twitter.com/csssr_dev)

  [Twitter новостей](https://twitter.com/csssr_news)

  [Telegram ведущего](https://t.me/Vindizh)

  [Twitter ведущего](https://twitter.com/Vindizh)
</Note>
